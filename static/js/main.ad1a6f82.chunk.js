(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{252:function(e,t,a){e.exports=a(441)},258:function(e,t,a){},440:function(e,t,a){},441:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(50),l=a.n(c),i=(a(257),a(258),a(62)),o=a(63),s=a(70),m=a(64),u=a(71),h=a(453),d=a(52),p=a(84),b=a(449);function k(e){var t=e.timestamp,n=e.data,r=e.index,c=e.previousHash,l=e.nonce,i=a(259),o=i.enc.Hex.parse(t+n+r+c+l);return i.SHA256(o).toString()}function E(e){return k(e)===e.hash}var v=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).recreateHash=function(){console.log("recreate",a.props.block.index)},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=E(this.props.block);return r.a.createElement("div",{className:"ui yellow card"},r.a.createElement("div",{className:"content"},e?r.a.createElement(h.a,{content:"Block is valid/signed",trigger:r.a.createElement(d.a,{circular:!0,style:{color:"green",float:"right"},name:"check"})}):r.a.createElement(h.a,{content:"Block is invalid/unsigned",trigger:r.a.createElement(d.a,{circular:!0,style:{color:"red",float:"right"},name:"x"})}),r.a.createElement("div",{className:"header"},0===this.props.block.index?"Genesis Block":"#".concat(this.props.block.index)),r.a.createElement("div",{className:"meta"},this.props.block.timestamp)),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"description"},r.a.createElement(p.a,{as:"a",color:"teal",ribbon:!0},"Data"),r.a.createElement("br",null),r.a.createElement(b.a,{size:"mini",style:{marginBottom:"1rem",minWidth:"100%"},value:this.props.block.data}),r.a.createElement(p.a,{as:"a",color:"teal",ribbon:!0},"Previous Hash"),r.a.createElement("br",null),r.a.createElement(b.a,{size:"mini",style:{marginBottom:"1rem",minWidth:"100%"},value:this.props.block.previousHash}),r.a.createElement("br",null),r.a.createElement(p.a,{as:"a",color:"teal",ribbon:!0},"Hash"),r.a.createElement("br",null),r.a.createElement(b.a,{size:"mini",style:{marginBottom:"1rem",minWidth:"100%"},value:this.props.block.hash}),r.a.createElement("br",null),r.a.createElement(p.a,{as:"a",color:"teal",ribbon:!0},"Nonce"),r.a.createElement("br",null),r.a.createElement(b.a,{size:"mini",style:{marginBottom:"1rem",minWidth:"100%"},value:this.props.block.nonce}))))}}]),t}(r.a.Component),f=a(452),g=a(455),y=a(451),w=a(442),B=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).handleClick=function(){if(a.state.data){var e=a.props.createBlock(a.state.data);a.props.addToChain(e),a.setState({modalOpen:!1})}},a.clickAddButton=function(){a.switchTipTool(!1),a.setState({modalOpen:!0})},a.state={isTipToolOpen:!0,data:"",modalOpen:!1},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"changeData",value:function(e){this.setState({data:e})}},{key:"switchTipTool",value:function(e){this.setState({isTipToolOpen:e})}},{key:"render",value:function(){var e=this,t=r.a.createElement("div",{className:"add-button"},r.a.createElement("button",{onClick:function(){return e.clickAddButton()},className:"ui circular icon button circle-button"},r.a.createElement("i",{"aria-hidden":"true",className:"plus icon"})));return r.a.createElement("div",null,r.a.createElement(h.a,{content:r.a.createElement("span",null,"Add a ",r.a.createElement("br",null),"new block!"),open:this.state.isTipToolOpen,position:"top right",trigger:t}),r.a.createElement(f.a,{open:this.state.modalOpen,trigger:t,size:"mini"},r.a.createElement(g.a,{icon:"plus circle",content:"Add a new block!"}),r.a.createElement(y.a,null,r.a.createElement(f.a.Content,null,r.a.createElement("div",{style:{margin:"10px 10px 10px 10px"}},r.a.createElement(y.a.Input,{required:!0,value:this.state.data,onChange:function(t){return e.changeData(t.target.value)},label:"Data"}))),r.a.createElement(f.a.Actions,null,r.a.createElement("div",{style:{margin:"10px 10px 10px 10px"}},r.a.createElement(w.a,{onClick:this.handleClick,color:"green",inverted:!0},r.a.createElement(d.a,{name:"checkmark"})," Submit"))))))}}]),t}(r.a.Component),O=a(450),x=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(m.a)(t).call(this,e))).createBlock=function(e){var t={timestamp:(new Date).toLocaleString(),data:e,index:a.state.currentBlock&&a.state.currentBlock.index+1||0,previousHash:a.state.currentBlock&&a.state.currentBlock.hash||-1,nonce:0};return t=function(e){for(;;){if(e.hash=k(e),"0000"===e.hash.slice(0,4))return e;e.nonce++}}(t)},a.addToChain=function(e,t){return!(!t&&!function(e,t){return t.index+1===e.index&&t.hash===e.previousHash&&!!E(e)}(e,a.state.currentBlock))&&(a.state.chain.push(e),a.setState({currentBlock:e}),!0)},a.state={genesisBlock:{},currentBlock:{},chain:[]},a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.createBlock("Our genesis data");this.addToChain(e,!0)}},{key:"render",value:function(){return 0===this.state.chain.length?r.a.createElement(O.a,null):r.a.createElement("main",{style:{marginTop:"2rem"}},r.a.createElement("div",{style:{display:"flex",overflowX:"scroll",overflowY:"hidden",scrollbarColor:"red yellow !important"}},this.state.chain.map(function(e,t){return r.a.createElement(v,{key:t,block:e})})),r.a.createElement(B,{createBlock:this.createBlock,addToChain:this.addToChain}))}}]),t}(r.a.Component);a(440);var T=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"wrapper"},r.a.createElement("header",null,r.a.createElement("h1",null,"blockchain",r.a.createElement("br",null),"simulator ."),r.a.createElement("div",{className:"ui divider"}),r.a.createElement("p",{style:{maxWidth:"35rem"},className:"marked"},'The blockchain starts with the genesis block and can be continued by adding more blocks. Each block points to the block before through the previous block\'s hash. The newly created hash is the fingerprint of the summoned data, index, previous hash, timestamp and nonce. The mined nonce makes sure that the hash begins with four zeros and makes the block therefore "signed". ',r.a.createElement("br",null),r.a.createElement("br",null),"Manipulating any data within any block of the blockchain (which can not be simulated (yet) in this demo) breaks the chain and results in invalid blocks.")),r.a.createElement(x,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[252,1,2]]]);
//# sourceMappingURL=main.ad1a6f82.chunk.js.map